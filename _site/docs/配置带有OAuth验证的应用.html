<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
<head>
    <meta charset='utf-8'>
    <title>Huginn-China | 配置带有 OAuth 验证的应用</title>
    <link rel='stylesheet' href='/static/main.css' type='text/css'/>
    <link rel='stylesheet' href='/static/media.css' type='text/css'/>
    <link rel="stylesheet" href='/static/pygments.css' type='text/css'/>
    <link rel="apple-touch-icon" sizes="56x48" href="/static/images/favicon/logo56*48.png">
	<!-- <link rel="apple-touch-icon" sizes="60x60" href="/static/images/favicon/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/static/images/favicon/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/static/images/favicon/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/static/images/favicon/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/static/images/favicon/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/static/images/favicon/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/static/images/favicon/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/static/images/favicon/apple-icon-180x180.png"> -->
	<link rel="icon" type="image/png" sizes="56x48"  href="/static/images/favicon/logo56*48.png">
	<!-- <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/static/images/favicon/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon/favicon-16x16.png"> -->
	<link rel="manifest" href="/static/images/favicon/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="/static/images/favicon/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
    <meta name='viewport' content='width=480'>
    <meta property="og:title" content="配置带有 OAuth 验证的应用" />
    <meta property="og:site_name" content="Huginn-China">
    <meta property='og:description' content='Huginn-China'>
    <!-- <meta property='og:image' content='http://asyncdisplaykit.org/static/asyncdisplaykit-og-image.png'>
    <meta property='og:url' content="http://asyncdisplaykit.org/docs/配置带有OAuth验证的应用.html"> -->
    <meta property='og:type' content='website'>
    <script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script>
    <script type="text/javascript">{'try{Typekit.load();}catch(e){}'}</script>
    <script src="/static/toggle.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
    
</head>
<body>
<header>
	<div class="container">
		<h1 id="logo"><a href="/"><img src="../static/images/huginn_logo.png" alt="AsyncDisplayKit" width="90" height="39"></a></h1>
		<nav>
			<ul>
				<li><a href="/docs/Huginn简介.html"  class="active" >文档</a></li>
				<li><a href="http://bbs.huginn.cn/" >论坛</a></li>
				<li><a href="https://github.com/huginn-china">github</a></li>
	    	</ul>
		</nav>
		<div style="clear: both;"></div>
	</div>
</header>


<div class="container container-margin">
	
	<div class="sidebar">
		<nav class='toc'>
  
    <section>
      <h3>概述</h3>
      <ul>
        
          
            
            
          
            
            
            <li>
              <a href=/docs/Huginn简介.html>
                Huginn 简介
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
      </ul>
    </section>
  
    <section>
      <h3>安装教程</h3>
      <ul>
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/初学者向导.html>
                初学者向导
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/本地运行Huginn.html>
                本地运行 Huginn
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/在Ubuntu-Debian上安装Huginn.html>
                在 Ubuntu/Debian 上安装 Huginn
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
            <li>
              <a href=/docs/Huginn的Apache配置.html>
                Huginn 的 Apache 配置
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/为什么要在docker上运行Huginn.html>
                为什么要在 docker 上运行 Huginn
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/使用PostgreSQL代替Mysql.html>
                使用 PostgreSQL 代替 Mysql
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/在Vagrant和VirtualBox上面部署Huginn.html>
                在 Vagrant 和 VirtualBox 上面部署 Huginn
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/用chefsolo和vagrant在各种服务器或VirtualBox上部署Huginn.html>
                用 chef solo 和 vagrant 在各种服务器或 VirtualBox 上部署 huginn
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/部署到Heroku.html>
                部署到 Heroku
              </a>
            </li>
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/部署到Cloud9(C9).html>
                部署到 Cloud9(C9)
              </a>
            </li>
            
          
            
            
          
            
            
          
        
      </ul>
    </section>
  
    <section>
      <h3>使用教程</h3>
      <ul>
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/让所有网页变成RSS——Huginn.html>
                让所有网页变成RSS —— Huginn
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/使用ManualEventAgent.html>
                使用 ManualEventAgent
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/利用Cloudmailin服务解析邮件.html>
                利用 Cloudmailin 服务解析邮件
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/利用Liquid模板引擎格式化事件.html>
                利用 Liquid 模板引擎格式化事件
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/用Huginn来为你省钱.html>
                用 Huginn 来为你省钱
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/用Huginn，让你再也不会忘记带伞.html>
                用 Huginn，让你再也不会忘记带伞
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/第三方应用通过WebhookAgent连接Huginn.html>
                第三方应用服务使用 Webhook Agent 连接 Huginn
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/筛选RSS源，制作新的全文RSS源.html>
                筛选 RSS 源，制作新的全文 RSS 源
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/让Huginn告诉你这个世界的变化.html>
                让 Huginn 告诉你这个世界的变化
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/配置带有OAuth验证的应用.html class="active">
                配置带有 OAuth 验证的应用
              </a>
            </li>
            
          
        
      </ul>
    </section>
  
    <section>
      <h3>扩展</h3>
      <ul>
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/创建一个新的Agent.html>
                创建一个新的 Agent
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/调试Agent.html>
                调试 Agent
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <li>
              <a href=/docs/私人功能开发说明.html>
                私人功能开发说明
              </a>
            </li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
      </ul>
    </section>
  
</nav>

	</div>
	
	<div class="content">
		<h1>
	      配置带有 OAuth 验证的应用
	    </h1>
	    <p></p>
	
	    <h1 id="oauth-">配置带有 OAuth 验证的应用</h1>

<p>为了使用新的集成服务，在第一次使用时，你需要通过这些外部应用服务的 OAuth 验证。</p>

<h2 id="twitter">Twitter</h2>

<p>如果你还没有一个 Twitter 应用，请先访问 <a href="https://apps.twitter.com/">https://apps.twitter.com</a>。</p>

<p>你需要给你的应用命名，比如：<code class="highlighter-rouge">John's Huginn</code> ，再添加一段描述，比如：
<code class="highlighter-rouge">John's personal Huginn system (http://github.com/cantino/huginn)</code>， Website 中可以填入你的个人网站或者你的 Twitter 账户地址。</p>

<p>Callback URL 这一项非常重要，请参照如下格式填写： <code class="highlighter-rouge">http://&lt;your-huginn-domain.com&gt;/auth/twitter/callback</code>，其中 <code class="highlighter-rouge">&lt;your-huginn-domain.com&gt;</code> 换成你的 Huginn 网站的域名。</p>

<p>在创建的应用中，你需要找到并记下你的 “API Key” 和 “API Secret”，然后按照下面的说明操作：</p>

<ul>
  <li>
    <p>如果你的 Huginn 是自己搭建的，打开Huginn中的 <code class="highlighter-rouge">.env</code> 文件，将 <code class="highlighter-rouge">TWITTER_OAUTH_KEY</code> 设置为 <code class="highlighter-rouge">API Key</code>， <code class="highlighter-rouge">TWITTER_OAUTH_SECRET</code> 设置为 <code class="highlighter-rouge">API Secret</code></p>
  </li>
  <li>
    <p>如果你是使用 Docker 容器部署的，将 <code class="highlighter-rouge">HUGINN_TWITTER_OAUTH_KEY</code> 设置为 <code class="highlighter-rouge">API Key</code> ，<code class="highlighter-rouge">HUGINN_TWITTER_OAUTH_SECRET</code> 设置为 <code class="highlighter-rouge">API Secret</code>。更多环境变量请查看<a href="https://hub.docker.com/r/cantino/huginn/">这里</a></p>
  </li>
  <li>
    <p>如果你是在 Heroku 平台上部署的，通过下面的命令设置环境变量：<code class="highlighter-rouge">heroku config:set TWITTER_OAUTH_KEY=YOUR-KEY</code> 和 <code class="highlighter-rouge">heroku config:set TWITTER_OAUTH_SECRET=YOUR-SECRET</code></p>
  </li>
  <li>
    <p>如果你是在 OpenShift 平台上部署的，通过下面的命令设置环境变量：<code class="highlighter-rouge">rhc env set TWITTER_OAUTH_KEY=YOUR-KEY</code> 和 <code class="highlighter-rouge">rhc env set TWITTER_OAUTH_SECRET=YOUR-SECRET</code></p>
  </li>
</ul>

<p>在重启你的 Huginn 网站之后，你应该就可以在 Service 页面认证你的 Twitter。</p>

<p>如果你遇到问题，请查看最下方的调试说明。</p>

<h2 id="signals-basecamp">37signals (Basecamp)</h2>

<p>如果你还没有一个 37signals 应用，先访问网站 <a href="https://integrate.37signals.com/">https://integrate.37signals.com/</a> 并创建一个新的应用。</p>

<p>给你的应用选择一个名字，输入你的公司名（或者你自己的名字），然后输入一个网站的网址（可以是任何网址）。</p>

<p>在 “Integration” 部分，你需要勾选 “Basecamp”，而其他的 37signals 服务也是可以勾选的。</p>

<p>在 “Redirect URI” 中，请参照如下格式填写： <code class="highlighter-rouge">https://&lt;your-huginn-domain.com&gt;/auth/37signals/callback</code>，其中 <code class="highlighter-rouge">&lt;your-huginn-domain.com&gt;</code> 换成你的 Huginn 网站的域名。</p>

<p>在你创建完应用后，你就会看到 “Client ID” 和 “Client Secret”。跟 Twitter 一样，请按照下面的说明进行操作：</p>

<ul>
  <li>
    <p>如果你的 Huginn 是自己搭建的，打开Huginn中的 <code class="highlighter-rouge">.env</code> 文件，设置 <code class="highlighter-rouge">THIRTY_SEVEN_SIGNALS_OAUTH_KEY</code> 设置成 <code class="highlighter-rouge">Client ID</code>， <code class="highlighter-rouge">THIRTY_SEVEN_SIGNALS_OAUTH_SECRET</code> 设置为 <code class="highlighter-rouge">Client Secret</code></p>
  </li>
  <li>
    <p>如果你是在 Heroku 平台上部署的，通过下面的命令设置环境变量：<code class="highlighter-rouge">heroku config:set THIRTY_SEVEN_SIGNALS_OAUTH_KEY=YOUR-CLIENT-ID</code> 和 <code class="highlighter-rouge">heroku config:set THIRTY_SEVEN_SIGNALS_OAUTH_SECRET=YOUR-CLIENT-SECRET</code></p>
  </li>
  <li>
    <p>如果你是在 OpenShift 平台上部署的，通过下面的命令设置环境变量：<code class="highlighter-rouge">rhc env set THIRTY_SEVEN_SIGNALS_OAUTH_KEY=YOUR-CLIENT-ID</code> 和 <code class="highlighter-rouge">rhc env set THIRTY_SEVEN_SIGNALS_OAUTH_SECRET=YOUR-CLIENT-SECRET</code>.</p>
  </li>
</ul>

<p>在重启你的 Huginn 网站之后，你应该就可以在 Service 页面认证你的 37signals。</p>

<h2 id="wunderlist">Wunderlist</h2>

<p>如果你还没有一个 Wunderlist 应用，请先访问 <a href="https://developer.wunderlist.com/">https://developer.wunderlist.com/</a> 并点击 ‘Register Your App’。</p>

<p>给你的应用选择一个名字，还需要填入 URL（可以是你的 huginn 网站或者其他任何网站地址）。</p>

<p>在 “Authorization Callback URL” 中，请参照如下格式填写： <code class="highlighter-rouge">http://&lt;your-huginn-domain.com&gt;/auth/wunderlist/callback</code>，其中 <code class="highlighter-rouge">&lt;your-huginn-domain.com&gt;</code> 换成你的 Huginn 网站的域名。</p>

<p>在你创建完应用后，你就会看到 “Client ID” 和 “Client Secret”。也跟 Twitter 一样，请按照下面的说明进行操作：</p>

<ul>
  <li>
    <p>如果你的 Huginn 是自己搭建的，打开 Huginn 中的 <code class="highlighter-rouge">.env</code> 文件，设置 <code class="highlighter-rouge">WUNDERLIST_OAUTH_KEY</code> 设置成 <code class="highlighter-rouge">Client ID</code>， <code class="highlighter-rouge">WUNDERLIST_OAUTH_SECRET</code> 设置为 <code class="highlighter-rouge">Client Secret</code>.</p>
  </li>
  <li>
    <p>如果你是在 Heroku 平台上部署的，通过下面的命令设置环境变量：<code class="highlighter-rouge">heroku config:set WUNDERLIST_OAUTH_KEY=YOUR-CLIENT-ID</code> 和 <code class="highlighter-rouge">heroku config:set WUNDERLIST_OAUTH_SECRET=YOUR-CLIENT-SECRET</code>。</p>
  </li>
  <li>
    <p>如果你是在 OpenShift 平台上部署的，通过下面的命令设置环境变量：<code class="highlighter-rouge">rhc env set WUNDERLIST_OAUTH_KEY=YOUR-CLIENT-ID</code> 和 <code class="highlighter-rouge">rhc env set WUNDERLIST_OAUTH_SECRET=YOUR-CLIENT-SECRET</code>.</p>
  </li>
</ul>

<p>在重启你的 Huginn 网站之后，你应该就可以在 Service 页面认证你的 Wunderlist。</p>

<h2 id="dropbox">Dropbox</h2>

<p>如果你还没有一个 Dropbox 应用，请先访问网址 <a href="https://developer.wunderlist.com/">https://developer.wunderlist.com/</a> ，再选择 dropbox API ，并允许它可以访问你的所有文件和文件夹，之后点击 ‘Create app’。</p>

<p>给你的应用选择一个名字，还需要填入 URL（可以是你的 huginn 网站或者其他任何网站地址）。</p>

<p>在 “Redirect URIs” 中，请参照如下格式填写： <code class="highlighter-rouge">https://&lt;your-huginn-domain.com&gt;/auth/dropbox/callback</code>，其中 <code class="highlighter-rouge">&lt;your-huginn-domain.com&gt;</code> 换成你的 Huginn 网站的域名。</p>

<p>在你创建完应用后，你就会看到 “App key” 和 “App secret”。也跟 Twitter 一样，请按照下面说明进行操作：</p>

<ul>
  <li>
    <p>如果你的 Huginn 是自己搭建的，打开 Huginn 中的 <code class="highlighter-rouge">.env</code> 文件，设置 <code class="highlighter-rouge">DROPBOX_OAUTH_KEY</code> 设置成 <code class="highlighter-rouge">App key</code>，<code class="highlighter-rouge">DROPBOX_OAUTH_SECRET</code> 设置为 <code class="highlighter-rouge">Client Secret</code>.</p>
  </li>
  <li>
    <p>如果你是在 Heroku 平台上部署的，通过下面的命令设置环境变量：<code class="highlighter-rouge">rhc env set DROPBOX_OAUTH_KEY=YOUR-APP-KEY</code> 和 <code class="highlighter-rouge">rhc env set DROPBOX_OAUTH_SECRET=YOUR-APP-SECRET</code>。</p>
  </li>
  <li>
    <p>如果你是在 OpenShift 平台上部署的，通过下面的命令设置环境变量：<code class="highlighter-rouge">rhc env set WUNDERLIST_OAUTH_KEY=YOUR-APP-KEY</code> 和 <code class="highlighter-rouge">rhc env set WUNDERLIST_OAUTH_SECRET=YOUR-APP-SECRET</code>.</p>
  </li>
</ul>

<p>在重启你的 Huginn 网站之后，你应该就可以在 Service 页面认证你的 Dropbox。</p>

<h2 id="tumblr">Tumblr（待验证修改）</h2>

<p>为了整合 Tumblr，你必须在 huginn 的 <code class="highlighter-rouge">.env</code> 文件中定义 <code class="highlighter-rouge">OAuth key</code> 和 <code class="highlighter-rouge">secret</code>。但是，获得 <code class="highlighter-rouge">OAuth key</code> 并没有那么容易，下面是详细地操作说明。</p>

<p>首先，如果你的 Huginn 是建立在 Apache 或者 Nginx 的网站服务器上，并且使用 HTTP 基本身份验证机制，你必须使用 <code class="highlighter-rouge">htpasswd</code> 命令来创建一个用户名和密码，从而提供访问的回调 URL：<code class="highlighter-rouge">sudo htpasswd -m /path/to/.htpasswd callback</code></p>

<p>登陆到该网址 <a href="https://www.tumblr.com/oauth/apps">(https://www.tumblr.com/oauth/apps)</a>，点击 “+ Register application” 按钮，输入你的应用名（“Huginn”就是一个有效的应用名），输入一段文字说明，文字说明要尽量清楚地表达你的意图，以防 Tumblr 审核人员单方面地禁止你的 Huginn 使用其服务。默认地 Callback URL 在 Huginn 文档中没有说明，其地址的格式如下： <code class="highlighter-rouge">https://huginn.example.com/auth/tumblr/callback</code></p>

<p>然而，因为在访问 Huginn 之前还要通过 HTTP 基本身份验证，所以你还需要提供用户名和密码，这样他们的 OAuth 才可以获得 callback URL，请参照如下格式进行填写：<code class="highlighter-rouge">callback:password@https://huginn.example.com/auth/tumblr/callback</code>。</p>

<p>如果你愿意的话，还可以上传一个图标和应用网站的截图。填写验证码，点击 Register 按钮。你会看到你的 <code class="highlighter-rouge">OAuth key</code> 和 <code class="highlighter-rouge">secret</code>。在你的 <code class="highlighter-rouge">.env</code> 文件中 TUMBLR_OAUTH_KEY 和 TUMBLR_OAUTH_SECRET 填入这些，之后重启 Huginn。</p>

<p>登陆 Huginn，点击 Services，再点击 “Authenticate with Tumblr” 按钮，并根据提示继续操作，最后返回到 Services 界面。当你创建了一个 Tumblr Publish Agent 之后，你会发现 Service 部分会被自动填写，这时你就可以配置它。</p>

<p>我建议在一个新的标签页打开 <a href="https://www.tumblr.com/docs/en/api/v2#posting">Tumblr’s API documentation</a> 来帮助你配置 Tumblr Publish Agent。默认情况下，每一个可以配置的选项都可以在 Tumblr Publish Agent 进行配置，但是，有几个可以在 Tumblr 中进行的配置并没有它们相对应的选项，这是因为这些选项会导致 Agent 不能正确的保存，所以删除了这些不必要的选项。如果有任何问题，请使用默认设置。</p>

<h1 id="oauth--1">调试 OAuth 应用</h1>

<h2 id="twitter-1">调试 Twitter</h2>

<h3 id="twitter-error-invalid-status-code-420">Twitter error: Invalid Status code 420</h3>

<p>假如你在本地或者云端同时使用同样的 Twitter 凭证，或者偶然使用多线程运行多个实例，或者是多线程没有及时地关闭（也会造成多个副本实例在运行），这些都有可能会导致 420 错误。</p>

<blockquote>
  <p>本文由 <a href="http://huginn.cn">Huginn 中文网</a> 翻译，已经获得项目作者授权，原文请访问：<a href="https://github.com/cantino/huginn/wiki/Configuring-OAuth-applications">Configuring OAuth applications</a>。</p>
</blockquote>


	    
	    <p><a class="edit-page-link btn" href="https://github.com/huginn-china/huginn-china.github.io/tree/master/_docs/配置带有OAuth验证的应用.md" target="_blank">在 GitHub 上修改文档</a></p>

	
	    <div class="docs-prevnext">
	      
	        <a href="/docs/让Huginn告诉你这个世界的变化.html">&larr; Prev</a>
	      
	      
	        <a class="right" href="/docs/创建一个新的Agent.html">Next &rarr;</a>
	      
	    </div>
	
	    <a id="_"></a>
	</div>
	
	<div style="clear:both;"></div>
</div>

<footer class="copyright">
	<div class='container'>
		<p>a Facebook &amp; Pinterest</a> collaboration &#x2665;</p>
	</div>
</footer>

<script src="/static/linkify.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-44373548-4', 'auto');
  ga('send', 'pageview');

  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
</script>
</body>
</html>

